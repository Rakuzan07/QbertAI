reached(Y, G) :- reached(X, Z), isAdjacent(X, Y), not enemy(Y), G = Z + 1 , not visited(Y) , Y>X.
reached(Y, Z) :- actualPosition(X), isAdjacent(X, Y), not enemy(Y), not notReached(Y), Z = 1.
visited(Y) :- reached(Y,_).
isTarget(X) | isNotTarget(X) :- reached(X, Y), Y > 1.
:- #count{X : isTarget(X)} != 1.
:- isTarget(X), painted(X).
:~ isTarget(X), reached(X, Y). [Y@1, X]

isAdjacent(24, 17).
isAdjacent(14, 9).
isAdjacent(19, 25).
isAdjacent(25, 19).
isAdjacent(1, 0).
isAdjacent(9, 13).
isAdjacent(8, 12).
isAdjacent(23, 17).
isAdjacent(26, 19).
isAdjacent(4, 7).
isAdjacent(6, 11).
isAdjacent(26, 20).
isAdjacent(18, 12).
isAdjacent(7, 12).
isAdjacent(9, 14).
isAdjacent(3, 7).
isAdjacent(8, 13).
isAdjacent(12, 17).
isAdjacent(14, 19).
isAdjacent(22, 15).
isAdjacent(2, 4).
isAdjacent(20, 14).
isAdjacent(11, 16).
isAdjacent(20, 27).
isAdjacent(16, 22).
isAdjacent(25, 18).
isAdjacent(13, 9).
isAdjacent(15, 22).
isAdjacent(14, 20).
isAdjacent(2, 0).
isAdjacent(12, 7).
isAdjacent(22, 16).
isAdjacent(0, 1).
isAdjacent(3, 1).
isAdjacent(7, 4).
isAdjacent(0, 2).
isAdjacent(2, 5).
isAdjacent(5, 8).
isAdjacent(13, 19).
isAdjacent(23, 16).
isAdjacent(17, 24).
isAdjacent(9, 5).
isAdjacent(17, 11).
isAdjacent(7, 3).
isAdjacent(13, 18).
isAdjacent(4, 2).
isAdjacent(6, 3).
isAdjacent(8, 5).
isAdjacent(8, 4).
isAdjacent(16, 23).
isAdjacent(1, 3).
isAdjacent(6, 10).
isAdjacent(21, 15).
isAdjacent(12, 18).
isAdjacent(10, 6).
isAdjacent(5, 9).
isAdjacent(15, 10).
isAdjacent(16, 11).
isAdjacent(11, 17).
isAdjacent(17, 23).
isAdjacent(19, 13).
isAdjacent(19, 14).
isAdjacent(10, 16).
isAdjacent(20, 26).
isAdjacent(13, 8).
isAdjacent(17, 12).
isAdjacent(15, 21).
isAdjacent(11, 7).
isAdjacent(18, 24).
isAdjacent(10, 15).
isAdjacent(5, 2).
isAdjacent(12, 8).
isAdjacent(18, 13).
isAdjacent(19, 26).
isAdjacent(1, 4).
isAdjacent(3, 6).
isAdjacent(11, 6).
isAdjacent(16, 10).
isAdjacent(7, 11).
isAdjacent(27, 20).
isAdjacent(18, 25).
isAdjacent(4, 8).
isAdjacent(4, 1).
isAdjacent(24, 18).
actualPosition(0).
isometricBlock(1).
isometricBlock(2).
isometricBlock(3).
isometricBlock(4).
isometricBlock(5).
isometricBlock(6).
isometricBlock(7).
isometricBlock(8).
isometricBlock(9).
isometricBlock(10).
isometricBlock(11).
isometricBlock(12).
isometricBlock(13).
isometricBlock(14).
isometricBlock(15).
isometricBlock(16).
isometricBlock(17).
isometricBlock(18).
isometricBlock(19).
isometricBlock(20).
isometricBlock(21).
isometricBlock(22).
isometricBlock(23).
isometricBlock(24).
isometricBlock(25).
isometricBlock(26).
isometricBlock(27).
